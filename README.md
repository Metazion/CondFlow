Condition flow logic.
Details in http://qilu.me/post/design/100.html.